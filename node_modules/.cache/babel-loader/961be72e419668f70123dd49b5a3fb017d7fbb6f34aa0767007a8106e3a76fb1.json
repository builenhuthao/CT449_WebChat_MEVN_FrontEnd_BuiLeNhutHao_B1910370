{"ast":null,"code":"export default {\n  data() {\n    return {\n      login: false,\n      user: null\n    };\n  },\n  methods: {\n    getUser: async function () {\n      const self = this;\n\n      // check if user is logged in\n      if (localStorage.getItem(this.$accessTokenKey)) {\n        const response = await axios.post(this.$apiURL + \"/getUser\", null, {\n          headers: this.$headers\n        });\n        if (response.data.status == \"success\") {\n          // user is logged in\n          this.$user = response.data.user;\n          console.log(this.$user);\n        } else {\n          // user is logged out\n          localStorage.removeItem(this.$accessTokenKey);\n        }\n        this.login = localStorage.getItem(this.$accessTokenKey) != null;\n      } else {\n        this.login = false;\n      }\n      global.user = this.user;\n    }\n  },\n  mounted: function () {\n    this.getUser();\n    global.socketIO = io(this.$apiURL);\n  }\n};","map":{"version":3,"names":["data","login","user","methods","getUser","self","localStorage","getItem","$accessTokenKey","response","axios","post","$apiURL","headers","$headers","status","$user","console","log","removeItem","global","mounted","socketIO","io"],"sources":["D:\\Laptrinh\\Phat_trien_ung_dung_web\\Projects\\Web-Chat\\CT449-WebChat-MEVN-FrontEnd-BuiLeNhutHao-B1910370\\src\\components\\layouts\\AppHeader.vue"],"sourcesContent":["<template>\r\n  <nav\r\n    class=\"navbar navbar-expand-lg navbar-dark bg-info\"\r\n    style=\"margin-bottom: 50px\"\r\n  >\r\n    <div class=\"container-fluid\">\r\n      <router-link class=\"navbar-brand\" to=\"/\"> Chat Chit </router-link>\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarColor01\"\r\n        aria-controls=\"navbarColor01\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarColor01\">\r\n        <ul class=\"nav navbar-nav me-auto\">\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link active\" to=\"/\">\r\n              Home<span class=\"visually-hidden\">( current) </span>\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item\" v-if=\"!login\">\r\n            <router-link class=\"nav-link\" to=\"/login\">Login</router-link>\r\n          </li>\r\n          <li class=\"nav-item\" v-if=\"!login\">\r\n            <router-link class=\"nav-link\" to=\"/register\">Register</router-link>\r\n          </li>\r\n          <li class=\"nav-item dropdown\" v-if=\"!login\">\r\n            <a\r\n              class=\"nav-link dropdown-toggle\"\r\n              href=\"#\"\r\n              id=\"navbarDropdown\"\r\n              role=\"button\"\r\n              data-toggle=\"dropdown\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded=\"false\"\r\n            ></a>\r\n            <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n              <li>\r\n                <a class=\"dropdown-item\" href=\"javascript:void(0);\">Logout</a>\r\n              </li>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <form action=\"\" class=\"d-flex\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control me-sm-2\"\r\n            v-model=\"query\"\r\n            placeholder=\"Search\"\r\n          />\r\n          <button class=\"btn btn-secondary my-2 my-sm-0\" type=\"submit\">\r\n            Search\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      login: false,\r\n      user: null,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getUser: async function () {\r\n      const self = this;\r\n\r\n      // check if user is logged in\r\n      if (localStorage.getItem(this.$accessTokenKey)) {\r\n        const response = await axios.post(this.$apiURL + \"/getUser\", null, {\r\n          headers: this.$headers,\r\n        });\r\n\r\n        if (response.data.status == \"success\") {\r\n          // user is logged in\r\n          this.$user = response.data.user;\r\n          console.log(this.$user);\r\n        } else {\r\n          // user is logged out\r\n          localStorage.removeItem(this.$accessTokenKey);\r\n        }\r\n\r\n        this.login = localStorage.getItem(this.$accessTokenKey) != null;\r\n      } else {\r\n        this.login = false;\r\n      }\r\n\r\n      global.user = this.user;\r\n    },\r\n  },\r\n\r\n  mounted: function () {\r\n    this.getUser();\r\n\r\n    global.socketIO = io(this.$apiURL);\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AAkEA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,KAAK;MACZC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EAEDC,OAAO,EAAE;IACPC,OAAO,EAAE,eAAAA,CAAA,EAAkB;MACzB,MAAMC,IAAG,GAAI,IAAI;;MAEjB;MACA,IAAIC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACC,eAAe,CAAC,EAAE;QAC9C,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAACC,IAAI,CAAC,IAAI,CAACC,OAAM,GAAI,UAAU,EAAE,IAAI,EAAE;UACjEC,OAAO,EAAE,IAAI,CAACC;QAChB,CAAC,CAAC;QAEF,IAAIL,QAAQ,CAACT,IAAI,CAACe,MAAK,IAAK,SAAS,EAAE;UACrC;UACA,IAAI,CAACC,KAAI,GAAIP,QAAQ,CAACT,IAAI,CAACE,IAAI;UAC/Be,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,KAAK,CAAC;QACzB,OAAO;UACL;UACAV,YAAY,CAACa,UAAU,CAAC,IAAI,CAACX,eAAe,CAAC;QAC/C;QAEA,IAAI,CAACP,KAAI,GAAIK,YAAY,CAACC,OAAO,CAAC,IAAI,CAACC,eAAe,KAAK,IAAI;MACjE,OAAO;QACL,IAAI,CAACP,KAAI,GAAI,KAAK;MACpB;MAEAmB,MAAM,CAAClB,IAAG,GAAI,IAAI,CAACA,IAAI;IACzB;EACF,CAAC;EAEDmB,OAAO,EAAE,SAAAA,CAAA,EAAY;IACnB,IAAI,CAACjB,OAAO,EAAE;IAEdgB,MAAM,CAACE,QAAO,GAAIC,EAAE,CAAC,IAAI,CAACX,OAAO,CAAC;EACpC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}